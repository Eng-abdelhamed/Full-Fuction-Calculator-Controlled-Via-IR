/*
 * TFT_CALC.c
 *
 *  Created on: Sep 12, 2024
 *      Author: ahmed
 */


#include "BIT_MATH.h"
#include "STD_TYPES.h"
#include "MSYSTICK_interface.h"
#include "TFT_interface.h"
#include "TFT_CALC.h"
extern u8 variable;
// 20 row and 16 column
u8 NUMBERS[30][8]={
		{
				0b00011000,
				0b00100100,
				0b01000010,
				0b01000010,//zero
				0b01000010,
				0b00100100,
				0b00011000,
				0b00000000
		},
		{
				0b00011000,
				0b00101000,
				0b01001000,
				0b00001000,//one
				0b00001000,
				0b00001000,
				0b00001000,
				0b00000000,

		},
		{
				0b00011100,
				0b00100010,
				0b01000010,
				0b00000100,
				0b00001000,//two
				0b00010000,
				0b01111110,
				0b00000000,

		},
		{
				0b00111100,
				0b01000100,
				0b00001000,
				0b00010000,
				0b00001000,
				0b01000100,//three
				0b00111100,
				0b00000000,

		},


		{
				0b00001100,
				0b00010100,
				0b00100100,
				0b01000100,
				0b01111110,//four
				0b00000100,
				0b00000100,
				0b00000000,

		},
		{
				0b00111100,
				0b01000000,
				0b01000000,
				0b01111100,
				0b00000100,//five
				0b00000100,
				0b01111000,
				0b00000000,

		},
		{
				0b00111000,
				0b01000000,
				0b01000000,
				0b01111000,
				0b01000100,//six
				0b01000100,
				0b00111000,
				0b00000000,

		},
		{
				0b01111100,
				0b00000100,
				0b00000100,
				0b00001000,
				0b00001000,//seven
				0b00010000,
				0b00010000,
				0b00000000,

		},
		{
				0b00111000,
				0b01000100,
				0b01000100,
				0b00111000,//eight
				0b01000100,
				0b01000100,
				0b00111000,
				0b00000000,

		},
		{
				0b00111000,
				0b01000100,
				0b01000100,
				0b00111100,
				0b00000100,//nine
				0b00000100,
				0b00111000,
				0b00000000,

		},
		{
				0b00000000,
				0b00000000,
				0b00000000,
				0b00000000,
				0b00000000,//dot    10
				0b00011000,
				0b00011000,
				0b00000000,

		},
		{
				0b00010000,
				0b00010000,
				0b00010000,
				0b11111110,// +     11
				0b00010000,
				0b00010000,
				0b00010000,
				0b00000000,
		},
		{
				0b00000000,
				0b00000000,
				0b00000000,
				0b01111110,// -      12
				0b00000000,
				0b00000000,
				0b00000000,
				0b00000000,
		},
		{
				0b10000010,
				0b01000100,
				0b00101000,
				0b00010000,
				0b00101000,// *    13
				0b01000100,
				0b10000010,
				0b00000000,
		},
		{
				0b00000000,
				0b00010000,
				0b00000000,
				0b11111110,
				0b00000000,// /      14
				0b00010000,
				0b00000000,
				0b00000000,
		},
		{
				0b00111100,
				0b00100000,
				0b00100000,
				0b00100000,
				0b00100000,// [      15
				0b00100000,
				0b00111100,
				0b00000000,
		},
		{
				0b00111100,
				0b00000100,
				0b00000100,
				0b00000100,
				0b00000100,// ]      16
				0b00000100,
				0b00111100,
				0b00000000,
		},
		{
				0b00010000,  //    *
				0b00101000,  //   * *
				0b01000100,  //  *   *
				0b10000010,  // *     *
				0b00000000,  // (all zeros)
				0b00000000,  // (all zeros)     17
				0b00000000,  // (all zeros)
				0b00000000   // (all zeros)
		},
		{
				0b00111100,  //  ****
				0b01000000,  // *
				0b01000000,  // *
				0b00111100,  //  ****        18
				0b00000010,  //       *
				0b00000010,  //       *
				0b01111100,  // *****
				0b00000000   // (all zeros)
		},
		// 'c'
		{
				0b00000000,  // (all zeros)
				0b00011100,  //   ***
				0b00100000,  //  *
				0b01000000,  // *           19
				0b01000000,  // *
				0b00100000,  //  *
				0b00011100,  //   ***
				0b00000000   // (all zeros)
		},
		// 'o'
		{
				0b00000000,  // (all zeros)
				0b00111100,  //  ****
				0b01000010,  // *    *
				0b01000010,  // *    *
				0b01000010,  // *    *          20
				0b01000010,  // *    *
				0b00111100,  //  ****
				0b00000000   // (all zeros)
		},
		// 'i'
		{
				0b00000000,  //   **
				0b00010000,  //    *
				0b00000000,  //    *
				0b00010000,  //    *            21
				0b00010000,  //    *
				0b00010000,  //    *
				0b00010000,  //  ****
				0b00000000   // (all zeros)
		},
		// 'a'
		{
				0b00000000,  // (empty row)
				0b00111100,  //  ****
				0b00000010,  //       *
				0b00111110,  //  *****
				0b01000010,  // *    *    22
				0b01000010,  // *    *
				0b00111110,  //  *****
				0b00000000   // (all zeros)
		},
		// 'n'
		{
				0b00000000,  // *   *
				0b11011100,  //  *** *
				0b01000010,  // *   *          23
				0b01000010,  // *   *
				0b01000010,  // *   *
				0b01000010,  // *   *
				0b01000010,   // (all zeros)
				0b00000000

		},
		// 'l'
		{
				0b00010000,  //  ****
				0b00010000,  //    *
				0b00010000,  //    *
				0b00010000,  //    *            24
				0b00010000,  //    *
				0b00010000,  //    *
				0b00011100,  //    *
				0b00000000   // (all zeros)
		},
		// 'g'
		{
				0b00111100,  //  ****
				0b01000010,  // *    *
				0b01000010,  // *
				0b00111110,  //  ******         25
				0b00000010,  //       *
				0b01000010,   //   ****
				0b00111100,
				0b00000000
		},
		// 'e'
		{
				0b00111100,  //  ****
				0b01000010,  // *    *
				0b01000010,  // *
				0b01111100,  //  ****           26
				0b01000000,  // *
				0b01000010,  // *    *
				0b00111100,  //  ****
				0b00000000   // (all zeros)
		},
		// 'x'
		{
				0b00000000,  // (all zeros)
				0b01000010,  // *    *
				0b00100100,  //  *  *
				0b00011000,  //   **
				0b00011000,  //   **          27
				0b00100100,  //  *  *
				0b01000010,  // *    *
				0b00000000   // (all zeros)
		},
		// 'p'
		{
				0b00111100,  //  ****
				0b01000010,  // *    *
				0b01000010,  // *    *
				0b00111100,  //  ****          28
				0b01000000,  // *
				0b01000000,  // *
				0b01000000,  // *
				0b00000000   // (all zeros)
		},
		// 't'
		{
				0b00010000,  //    *
				0b00010000,  //    *
				0b01111100,  //  ****      29
				0b00010000,  //    *
				0b00010000,  //    *
				0b00010000,  //    *
				0b00010000,  // (all zeros)
				0b00000000   // (all zeros)
		}
};
void DRAW_NUMBER(int Number,u8 block_number)
{

	TFT_SendCommand(0x2A);//x
	TFT_SendData(0);
	TFT_SendData((block_number%16)*8);
	TFT_SendData(0);
	TFT_SendData((block_number%16)*8+7);
	///////////
	TFT_SendCommand(0x2B);//y
	TFT_SendData(0);
	TFT_SendData((block_number/16)*8);
	TFT_SendData(0);
	TFT_SendData((block_number/16)*8+7);
	TFT_SendCommand(0x2c);

	for(u8 i=0;i<64;i++)
	{
		if((GET(NUMBERS[Number][i/8],(7-(i%8))))==1)
		{
			TFT_SendColor(TFT_BLACK);

		}
		else
		{
			if(variable==0)
			{
				TFT_SendColor(TFT_LIGHT_BLUE);
			}
			else
			{
				TFT_SendColor(TFT_YELLOW);

			}

		}
	}



}




void ERASE_BLOCK(u8 block_number)
{

	TFT_SendCommand(0x2A);//x
	TFT_SendData(0);
	TFT_SendData((block_number%16)*8);
	TFT_SendData(0);
	TFT_SendData((block_number%16)*8+7);
	///////////
	TFT_SendCommand(0x2B);//y
	TFT_SendData(0);
	TFT_SendData((block_number/16)*8);
	TFT_SendData(0);
	TFT_SendData((block_number/16)*8+7);
	TFT_SendCommand(0x2c);

	for(u8 i=0;i<64;i++)
	{
		TFT_SendColor(TFT_WHITE);
	}

}
void Draw_Cursor(u8 block_number)
{
	if(block_number==15)
	{
		TFT_DrawRectangle((16%16)*8,(16/16)*8,(16%16)*8,(16/16)*8+7,TFT_BLACK);
		return;
	}
	TFT_DrawRectangle((block_number%16)*8+7,(block_number/16)*8,(block_number%16)*8+7,(block_number/16)*8+7,TFT_BLACK);

}
void Erase_Cursor(u8 block_number)
{

	if(block_number==15)
	{
		TFT_DrawRectangle((16%16)*8,(16/16)*8,(16%16)*8,(16/16)*8+7,TFT_LIGHT_BLUE);
		return;
	}
	TFT_DrawRectangle((block_number%16)*8+7,(block_number/16)*8,(block_number%16)*8+7,(block_number/16)*8+7,TFT_LIGHT_BLUE);


}

